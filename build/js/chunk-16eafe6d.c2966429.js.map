{"version":3,"sources":["webpack:///./src/base/js/singer.js","webpack:///./src/views/Search.vue?643c","webpack:///./src/views/Search.vue?9628","webpack:///./src/api/search.js","webpack:///src/views/Search.vue","webpack:///./src/views/Search.vue?536d","webpack:///./src/views/Search.vue","webpack:///./node_modules/core-js/modules/es6.string.iterator.js","webpack:///./src/base/js/song.js"],"names":["Singer","_ref","id","name","image","Object","C_Users_Mark_Desktop_project_chicken_music_node_modules_babel_runtime_corejs2_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","concat","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Search_vue_vue_type_style_index_0_id_11c3b2b6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Search_vue_vue_type_style_index_0_id_11c3b2b6_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","_v","on","click","back","directives","rawName","value","expression","placeholder","type","domProps","input","$event","target","composing","keyword","clearContent","ref","data","hots","_l","item","index","key","selectHotShortcut","_s","first","history","confirm","selectHistoryShortcut","stopPropagation","remove","searchData","recommendSinger","recommendPlaylist","selectSinger","src","selectPlaylist","selectSong","_formatSingerName","artists","hint","clear","cancel","staticRenderFns","getSearchHot","axios","get","domain","then","res","result","getSearchData","songs","getSearchRecommend","Searchvue_type_script_lang_js_stroage","stroage","Searchvue_type_script_lang_js_","mixins","mixin","tabWin","searching","empty","computed","objectSpread","vuex_esm","methods","$router","_removeHistory","_getSongDetail","_pushHistory","push","list","util","_getData","_this","_searchData","_this2","Promise","all","singer","playlist","playlists","js_singer","picUrl","coverImgUrl","_this3","js_song","getDetail","song","_setSong","setSequenceList","setPlaylist","sequenceList","setCurrentIndex","setCurrentSong","currentIndex","setFullScreen","_clearData","clearTimeout","timer","arr","i","length","watch","_resetScroll","$refs","scrollCon","val","_this4","setTimeout","components","Scroll","Confirm","Loading","created","mounted","views_Searchvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","$at","String","iterated","_t","_i","point","O","undefined","done","Stroage","Song","duration","like","C_Users_Mark_Desktop_project_chicken_music_node_modules_babel_runtime_corejs2_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","url","nolyric","lyric","lrc","filterName","forEach","toString","createSong","ar","al","dt"],"mappings":"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","file":"js/chunk-16eafe6d.c2966429.js","sourcesContent":["class Singer {\r\n  constructor({ id, name, image }) {\r\n    this.id = id\r\n    this.name = name\r\n    this.image = `${image}?param=140y140&type=webp`\r\n  }\r\n}\r\n\r\nexport default Singer\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&id=11c3b2b6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&id=11c3b2b6&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('div',{staticClass:\"search\"},[_c('div',{staticClass:\"header\"},[_c('h2',{staticClass:\"title\"},[_vm._v(\"搜 索\")]),_c('div',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"iconfont icon-fanhui\"})])]),_c('div',{staticClass:\"search-box-wrapper\"},[_c('div',{staticClass:\"search-box\"},[_c('i',{staticClass:\"iconfont icon-chaxun\"}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.keyword),expression:\"keyword\"}],staticClass:\"box\",attrs:{\"placeholder\":\" 搜索歌曲、歌手\",\"type\":\"text\"},domProps:{\"value\":(_vm.keyword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.keyword=$event.target.value}}}),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.keyword.length),expression:\"keyword.length\"}],staticClass:\"iconfont icon-cha\",on:{\"click\":_vm.clearContent}})])]),_c('div',{ref:\"scrollCon\",staticClass:\"scroll-container\"},[_c('div',{staticClass:\"search-shortcut\"},[_c('Scroll',{attrs:{\"data\":this.hots}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.hots.length),expression:\"this.hots.length\"}],staticClass:\"search-hot\"},[_c('h2',{staticClass:\"title\"},[_vm._v(\"热门搜索\")]),_c('ul',{staticClass:\"list\"},_vm._l((_vm.hots),function(item,index){return _c('li',{key:index,staticClass:\"item\",on:{\"click\":function($event){return _vm.selectHotShortcut(index)}}},[_c('span',[_vm._v(_vm._s(item.first))])])}),0)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.history.length),expression:\"this.history.length\"}],staticClass:\"search-history\"},[_c('h2',{staticClass:\"title\"},[_c('span',{staticClass:\"text\"},[_vm._v(\"搜索历史\")]),_c('span',{staticClass:\"clear\",on:{\"click\":_vm.confirm}},[_c('i',{staticClass:\"iconfont icon-lajitong\"})])]),_c('ul',{staticClass:\"list\"},_vm._l((_vm.history),function(item,index){return _c('li',{key:index,staticClass:\"item\",on:{\"click\":function($event){return _vm.selectHistoryShortcut(index)}}},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item))]),_c('span',{staticClass:\"remove\",on:{\"click\":function($event){$event.stopPropagation();return _vm.remove(index)}}},[_c('i',{staticClass:\"iconfont icon-cha\"})])])}),0)])])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.keyword.length),expression:\"keyword.length\"}],staticClass:\"search-content\"},[_c('Scroll',{attrs:{\"data\":_vm.searchData}},[_c('Loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searching),expression:\"searching\"}]}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.recommendSinger.id || _vm.recommendPlaylist.id),expression:\"recommendSinger.id || recommendPlaylist.id\"}],staticClass:\"recommend\"},[_c('p',{staticClass:\"title\"},[_vm._v(\"最佳匹配\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.recommendSinger.id),expression:\"recommendSinger.id\"}],staticClass:\"singer\",on:{\"click\":_vm.selectSinger}},[_c('img',{staticClass:\"image\",attrs:{\"src\":_vm.recommendSinger.image}}),_c('span',{staticClass:\"name\"},[_vm._v(\"歌手：\"+_vm._s(_vm.recommendSinger.name))])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.recommendPlaylist.id),expression:\"recommendPlaylist.id\"}],staticClass:\"playlist\",on:{\"click\":_vm.selectPlaylist}},[_c('img',{staticClass:\"image\",attrs:{\"src\":_vm.recommendPlaylist.image}}),_c('span',{staticClass:\"name\"},[_vm._v(\"歌单：\"+_vm._s(_vm.recommendPlaylist.name))])])]),_c('ul',{staticClass:\"songlist\"},_vm._l((this.searchData),function(item,index){return _c('li',{key:item.id,staticClass:\"item\",on:{\"click\":function($event){return _vm.selectSong(index)}}},[_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(item.name))]),_c('p',{staticClass:\"singer\"},[_vm._v(_vm._s(_vm._formatSingerName(item.artists)))])])}),0)],1)],1)]),_c('Confirm',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tabWin),expression:\"tabWin\"}],attrs:{\"hint\":'所有搜索历史'},on:{\"clear\":_vm.clear,\"cancel\":_vm.cancel}}),_c('transition',{attrs:{\"name\":\"router\"}},[_c('router-view',{staticClass:\"router-view\"})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios'\r\nimport { domain } from './config'\r\n\r\nexport function getSearchHot() {\r\n  return axios.get(`${domain}/search/hot`).then(res => {\r\n    return res.data.result\r\n  })\r\n}\r\n\r\nexport function getSearchData(keyword) {\r\n  return axios.get(`${domain}/search?keywords=${keyword}`).then(res => {\r\n    return res.data.result.songs\r\n  })\r\n}\r\n\r\nexport function getSearchRecommend(keyword) {\r\n  return axios.get(`${domain}/search/suggest?keywords=${keyword}`).then(res => {\r\n    return res.data.result\r\n  })\r\n}\r\n","<template>\r\n  <transition name=\"slide\">\r\n    <div class=\"search\">\r\n      <!-- 头部 -->\r\n      <div class=\"header\">\r\n        <h2 class=\"title\">搜 索</h2>\r\n        <div class=\"back\" @click=\"back\">\r\n          <i class=\"iconfont icon-fanhui\"></i>\r\n        </div>\r\n      </div>\r\n      <!-- 搜索框区域 -->\r\n      <div class=\"search-box-wrapper\">\r\n        <div class=\"search-box\">\r\n          <i class=\"iconfont icon-chaxun\"></i>\r\n          <input class=\"box\" v-model=\"keyword\" placeholder=\" 搜索歌曲、歌手\" type=\"text\" />\r\n          <i class=\"iconfont icon-cha\" v-show=\"keyword.length\" @click=\"clearContent\"></i>\r\n        </div>\r\n      </div>\r\n      <!-- 滚动区域 -->\r\n      <div class=\"scroll-container\" ref=\"scrollCon\">\r\n        <!-- 搜索关键字快捷 -->\r\n        <div class=\"search-shortcut\">\r\n          <Scroll :data=\"this.hots\">\r\n            <div class=\"search-hot\" v-show=\"this.hots.length\">\r\n              <h2 class=\"title\">热门搜索</h2>\r\n              <ul class=\"list\">\r\n                <li class=\"item\" v-for=\"(item, index) in hots\" :key=\"index\" @click=\"selectHotShortcut(index)\">\r\n                  <span>{{ item.first }}</span>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <div class=\"search-history\" v-show=\"this.history.length\">\r\n              <h2 class=\"title\">\r\n                <span class=\"text\">搜索历史</span>\r\n                <span class=\"clear\" @click=\"confirm\"><i class=\"iconfont icon-lajitong\"></i></span>\r\n              </h2>\r\n              <ul class=\"list\">\r\n                <li class=\"item\" v-for=\"(item, index) in history\" :key=\"index\" @click=\"selectHistoryShortcut(index)\">\r\n                  <span class=\"name\">{{ item }}</span>\r\n                  <span class=\"remove\" @click.stop=\"remove(index)\">\r\n                    <i class=\"iconfont icon-cha\"></i>\r\n                  </span>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </Scroll>\r\n        </div>\r\n        <!-- 搜索出来的内容 -->\r\n        <div class=\"search-content\" v-show=\"keyword.length\">\r\n          <Scroll :data=\"searchData\">\r\n            <Loading v-show=\"searching\"></Loading>\r\n            <div class=\"recommend\" v-show=\"recommendSinger.id || recommendPlaylist.id\">\r\n              <p class=\"title\">最佳匹配</p>\r\n              <div class=\"singer\" v-show=\"recommendSinger.id\" @click=\"selectSinger\">\r\n                <img class=\"image\" :src=\"recommendSinger.image\" />\r\n                <span class=\"name\">歌手：{{ recommendSinger.name }}</span>\r\n              </div>\r\n              <div class=\"playlist\" v-show=\"recommendPlaylist.id\" @click=\"selectPlaylist\">\r\n                <img class=\"image\" :src=\"recommendPlaylist.image\" />\r\n                <span class=\"name\">歌单：{{ recommendPlaylist.name }}</span>\r\n              </div>\r\n            </div>\r\n            <ul class=\"songlist\">\r\n              <li class=\"item\" v-for=\"(item, index) in this.searchData\" :key=\"item.id\" @click=\"selectSong(index)\">\r\n                <p class=\"name\">{{ item.name }}</p>\r\n                <p class=\"singer\">{{ _formatSingerName(item.artists) }}</p>\r\n              </li>\r\n            </ul>\r\n          </Scroll>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 弹窗 -->\r\n      <Confirm :hint=\"'所有搜索历史'\" v-show=\"tabWin\" @clear=\"clear\" @cancel=\"cancel\"></Confirm>\r\n\r\n      <transition name=\"router\">\r\n        <router-view class=\"router-view\"></router-view>\r\n      </transition>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport Mixin from 'base/js/mixin'\r\nimport { Song, createSong } from 'base/js/song'\r\nimport Singer from 'base/js/singer'\r\nimport { formatSingerName } from 'base/js/util'\r\nimport Stroage from 'base/js/stroage'\r\nimport { getSearchHot, getSearchData, getSearchRecommend } from 'api/search'\r\nimport Scroll from 'components/scroll/Scroll'\r\nimport Confirm from 'components/confirm/Confirm'\r\nimport Loading from 'components/loading/Loading'\r\n\r\nconst stroage = new Stroage('history', 15)\r\n\r\nexport default {\r\n  mixins: [Mixin],\r\n  data() {\r\n    return {\r\n      keyword: '',\r\n      tabWin: false,\r\n      searching: false,\r\n      hots: [],\r\n      history: [],\r\n      searchData: [],\r\n      recommendSinger: {},\r\n      recommendPlaylist: {},\r\n      empty: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'playlist',\r\n      'currentIndex',\r\n      'sequenceList'\r\n    ])\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'setFullScreen',\r\n      'setCurrentSong',\r\n      'setPlaylist',\r\n      'setSequenceList',\r\n      'setCurrentIndex'\r\n    ]),\r\n    back() {\r\n      this.$router.back()\r\n      this.keyword = ''\r\n    },\r\n    clear() {\r\n      this.history = []\r\n      this.tabWin = false\r\n    },\r\n    cancel() {\r\n      this.tabWin = false\r\n    },\r\n    confirm() {\r\n      this.tabWin = true\r\n    },\r\n    remove(index) {\r\n      this._removeHistory(index)\r\n      this.history = stroage.get()\r\n    },\r\n    clearContent() {\r\n      this.keyword = ''\r\n      this.searchData = []\r\n    },\r\n    selectHotShortcut(index) {\r\n      this.keyword = this.hots[index].first\r\n    },\r\n    selectHistoryShortcut(index) {\r\n      this.keyword = this.history[index]\r\n    },\r\n    selectSong(index) {\r\n      let id = this.searchData[index].id\r\n      this._getSongDetail(id)\r\n      this._pushHistory()\r\n    },\r\n    selectSinger() {\r\n      this.$router.push(`/search/singer/${this.recommendSinger.id}`)\r\n      this._pushHistory()\r\n    },\r\n    selectPlaylist() {\r\n      this.$router.push(`/search/playlist/${this.recommendPlaylist.id}`)\r\n      this._pushHistory()\r\n    },\r\n    _formatSingerName(list) {\r\n      return formatSingerName(list)\r\n    },\r\n    _getData() {\r\n      getSearchHot().then(res => {\r\n        this.hots = res.hots\r\n      })\r\n      this.history = stroage.get()\r\n    },\r\n    _searchData(keyword) {\r\n      Promise.all([getSearchData(keyword), getSearchRecommend(keyword)]).then(res => {\r\n        if (this.empty) {\r\n          return\r\n        }\r\n\r\n        this.searchData = res[0]\r\n\r\n        let singer = {}\r\n        if (res[1].artists) {\r\n          singer = res[1].artists[0]\r\n        }\r\n        let playlist = {}\r\n        if (res[1].playlists) {\r\n          playlist = res[1].playlists[0]\r\n        }\r\n        this.recommendSinger = new Singer({\r\n          id: singer.id,\r\n          name: singer.name,\r\n          image: singer.picUrl + '?param=140y140&type=webp'\r\n        })\r\n        this.recommendPlaylist = {\r\n          id: playlist.id,\r\n          name: playlist.name,\r\n          image: playlist.coverImgUrl + '?param=140y140&type=webp'\r\n        }\r\n\r\n        this.searching = false\r\n      })\r\n    },\r\n    _getSongDetail(id) {\r\n      Song.getDetail(id).then(res => {\r\n        let song = createSong(res[0])\r\n        this._setSong(song)\r\n      })\r\n    },\r\n    _setSong(song) {\r\n      this.setSequenceList([song])\r\n      this.setPlaylist(this.sequenceList)\r\n      this.setCurrentIndex(0)\r\n      this.setCurrentSong(this.playlist[this.currentIndex])\r\n      this.setFullScreen(true)\r\n    },\r\n    _clearData() {\r\n      this.searchData = []\r\n      this.recommendSinger = {}\r\n      this.recommendPlaylist = {}\r\n      this.empty = true\r\n      clearTimeout(this.timer)\r\n    },\r\n    _pushHistory() {\r\n      let arr = stroage.get()\r\n      for (let i = 0; i < arr.length; i++) {\r\n        if (arr[i] === this.keyword) {\r\n          stroage.remove(i)\r\n          break\r\n        }\r\n      }\r\n      stroage.push(this.keyword)\r\n      this.history = stroage.get()\r\n    },\r\n    _removeHistory(index) {\r\n      stroage.remove(index)\r\n    }\r\n  },\r\n  watch: {\r\n    playlist(list) {\r\n      this._resetScroll(list, this.$refs.scrollCon)\r\n    },\r\n    keyword(val) {\r\n      if (val.length === 0 || val === '' || val === ' ') {\r\n        this.searching = false\r\n        this._clearData()\r\n        return\r\n      }\r\n\r\n      this.empty = false\r\n      this.searching = true\r\n      if (this.timer) {\r\n        clearTimeout(this.timer)\r\n      }\r\n      this.timer = setTimeout(() => {\r\n        this._searchData(val)\r\n      }, 500)\r\n    }\r\n  },\r\n  components: {\r\n    Scroll,\r\n    Confirm,\r\n    Loading\r\n  },\r\n  created() {\r\n    this._getData()\r\n  },\r\n  mounted() {\r\n    this._resetScroll(this.playlist, this.$refs.scrollCon)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @import 'base/styles/variable.scss';\r\n\r\n  .search {\r\n    position: fixed;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n    background-color: $theme-back-color;\r\n\r\n    .header {\r\n      height: 40px;\r\n\r\n      .title {\r\n        width: 70%;\r\n        height: 40px;\r\n        margin: 0 auto;\r\n        color: #ffffff;\r\n        line-height: 40px;\r\n        text-align: center;\r\n        @extend .text-overflow\r\n      }\r\n\r\n      .back {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        width: 40px;\r\n        line-height: 40px;\r\n        text-align: center;\r\n\r\n        .iconfont {\r\n          color: $theme-color;\r\n          font-size: 20px;\r\n          font-weight: bold;\r\n        }\r\n      }\r\n    }\r\n\r\n    .search-box-wrapper {\r\n      margin: 20px;\r\n\r\n      .search-box {\r\n        display: flex;\r\n        flex-direction: row;\r\n        align-items: center;\r\n        width: 100%;\r\n        height: 40px;\r\n        padding: 0 6px;\r\n        background-color: #333;\r\n        border-radius: 6px;\r\n        box-sizing: border-box;\r\n\r\n        .icon-chaxun {\r\n          position: relative;\r\n          top: 2px;\r\n          font-size: 20px;\r\n          color: black;\r\n          margin-left: 5px;\r\n        }\r\n\r\n        .box {\r\n          flex: 1;\r\n          font-size: 14px;\r\n          line-height: 18px;\r\n          border: none;\r\n          outline: none;\r\n          margin: 0 5px;\r\n          color: #ffffff;\r\n          background-color: #333;\r\n        }\r\n\r\n        .icon-cha {\r\n          font-size: 24px;\r\n          color: black;\r\n        }\r\n      }\r\n    }\r\n\r\n    .scroll-container {\r\n      position: absolute;\r\n      top: 120px;\r\n      bottom: 0;\r\n      width: 100%;\r\n    }\r\n\r\n    .search-shortcut {\r\n      position: absolute;\r\n      top: 0;\r\n      bottom: 0;\r\n      left: 0;\r\n      width: 100%;\r\n\r\n      .search-hot {\r\n        margin: 0 20px;\r\n\r\n        .title {\r\n          height: 44px;\r\n          line-height: 44px;\r\n          font-size: 14px;\r\n          color: hsla(0,0%,100%,.5);\r\n        }\r\n\r\n        .list {\r\n\r\n          .item {\r\n            display: inline-block;\r\n            padding: 5px 10px;\r\n            font-size: 14px;\r\n            color: hsla(0,0%,100%,.3);\r\n            background-color: #333;\r\n            border-radius: 6px;\r\n            margin: 0 10px 10px 0;\r\n          }\r\n        }\r\n      }\r\n\r\n      .search-history {\r\n        position: relative;\r\n        margin: 0 20px;\r\n        flex: 1;\r\n\r\n        .title {\r\n          display: flex;\r\n          align-items: center;\r\n          height: 44px;\r\n          font-size: 14px;\r\n          color: hsla(0,0%,100%,.5);\r\n\r\n          .text {\r\n            flex: 1;\r\n          }\r\n\r\n          .clear {\r\n            font-size: 20px;\r\n            margin-right: 10px;\r\n            @extend .zoom-touch\r\n          }\r\n        }\r\n\r\n        .list {\r\n          padding-bottom: 16px;\r\n\r\n          .item {\r\n            display: flex;\r\n            flex-direction: row;\r\n            align-items: center;\r\n            height: 35px;\r\n            color: hsla(0,0%,100%,.5);\r\n          }\r\n\r\n          .name {\r\n            flex: 1;\r\n            font-size: 14px;\r\n          }\r\n\r\n          .remove {\r\n            font-size: 20px;\r\n            margin-right: 10px;\r\n            @extend .zoom-touch\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .search-content {\r\n      position: absolute;\r\n      top: 0;\r\n      bottom: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      z-index: 1;\r\n      background-color: $theme-back-color;\r\n\r\n      .recommend {\r\n        padding: 0 20px;\r\n\r\n        .title {\r\n          padding-bottom: 6px;\r\n          font-size: 12px;\r\n          color: $theme-color;\r\n        }\r\n\r\n        .singer, .playlist {\r\n          display: flex;\r\n          flex-direction: row;\r\n          align-items: center;\r\n          padding: 10px 0;\r\n\r\n          .image {\r\n            width: 50px;\r\n            height: 50px;\r\n            margin-right: 15px;\r\n          }\r\n\r\n          .name {\r\n            font-size: 14px;\r\n            color: hsla(0,0%,100%,.5);\r\n          }\r\n        }\r\n      }\r\n\r\n      .songlist {\r\n        padding: 0 20px 20px 20px;\r\n\r\n        .item {\r\n          padding: 10px 0;\r\n          overflow: hidden;\r\n\r\n          .name {\r\n            padding-bottom: 10px;\r\n            font-size: 14px;\r\n            color: #fff;\r\n            @extend .text-overflow;\r\n          }\r\n\r\n          .singer {\r\n            font-size: 12px;\r\n            color: hsla(0,0%,100%,.3);\r\n            @extend .text-overflow;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .router-view {\r\n      z-index: 2;\r\n    }\r\n  }\r\n\r\n  .slide-enter, .slide-leave-to {\r\n    opacity: 0;\r\n    transform: translateX(50%)\r\n  }\r\n  .slide-enter-active, .slide-leave-active {\r\n    transition: all .4s;\r\n  }\r\n\r\n  .router-enter, .router-leave-to {\r\n    opacity: 0;\r\n    transform: translate3d(50%, 0, 0)\r\n  }\r\n  .router-enter-active, .router-leave-active {\r\n    transition: all .4s;\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=11c3b2b6&scoped=true&\"\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Search.vue?vue&type=style&index=0&id=11c3b2b6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11c3b2b6\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","import { domain } from 'api/config'\r\nimport Stroage from './stroage'\r\nimport axios from 'axios'\r\n\r\n// eslint-disable-next-line\r\nconst stroage = new Stroage('like')\r\n\r\nclass Song {\r\n  constructor({ id, name, singer, image, duration, like }) {\r\n    this.id = id\r\n    this.name = name\r\n    this.singer = singer\r\n    this.image = image\r\n    this.duration = duration\r\n    this.like = like\r\n  }\r\n\r\n  getUrl() {\r\n    return axios.get(`${domain}/song/url?id=${this.id}`).then(res => {\r\n      let url = res.data.data[0].url\r\n      return url\r\n    })\r\n  }\r\n\r\n  getLyric() {\r\n    return axios.get(`${domain}/lyric?id=${this.id}`).then(res => {\r\n      if (res.data.nolyric) {\r\n        return ''\r\n      }\r\n      let lyric = res.data.lrc.lyric\r\n      return lyric\r\n    })\r\n  }\r\n}\r\n\r\nSong.getDetail = function(id) {\r\n  return axios.get(`${domain}/song/detail?ids=${id}`).then(res => {\r\n    return res.data.songs\r\n  })\r\n}\r\n\r\nfunction filterName(arr) {\r\n  let singer = ''\r\n  arr.forEach((item, index) => {\r\n    index === arr.length - 1 ? singer += item.name : singer += item.name + ' / '\r\n  })\r\n  return singer\r\n}\r\n\r\nfunction like(id) {\r\n  let arr = stroage.get()\r\n  for (let i = 0; i < arr.length; i++) {\r\n    if (arr[i] === id.toString()) {\r\n      return true\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\nfunction createSong(data) {\r\n  return new Song({\r\n    id: data.id,\r\n    name: data.name,\r\n    singer: filterName(data.ar),\r\n    image: data.al.picUrl,\r\n    duration: data.dt / 1000,\r\n    like: like(data.id)\r\n  })\r\n}\r\n\r\nexport {\r\n  Song,\r\n  createSong\r\n}\r\n"],"sourceRoot":""}