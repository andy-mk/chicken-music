{"version":3,"sources":["webpack:///./src/views/Rank.vue?6b2c","webpack:///./src/api/rank.js","webpack:///src/views/Rank.vue","webpack:///./src/views/Rank.vue?8b81","webpack:///./src/views/Rank.vue","webpack:///./src/views/Rank.vue?3507"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","attrs","data","ranklist","directives","name","rawName","value","reqCount","expression","_l","item","key","id","on","click","$event","selectItem","src","_getSmallImage","coverImgUrl","songItem","index","_v","_s","formatSingName","ar","staticRenderFns","getRank","axios","get","concat","domain","then","res","playlist","rank","getHot","getOriginal","getNewsong","getSoaring","getMusic","getTalksing","getElectric","Rankvue_type_script_lang_js_","mixins","mixin","computed","Object","objectSpread","vuex_esm","methods","request","req","_this","push","tracks","splice","arr","singer","forEach","length","$router","_getData","api_rank","url","watch","list","_resetScroll","$refs","components","Scroll","Loading","created","mounted","views_Rankvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Rank_vue_vue_type_style_index_0_id_44a5e312_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Rank_vue_vue_type_style_index_0_id_44a5e312_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-d2527bea.931fe5d1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"rank\",staticClass:\"rank\"},[_c('Scroll',{attrs:{\"data\":_vm.ranklist}},[_c('Loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.reqCount <= 6),expression:\"reqCount <= 6\"}]}),_c('ul',{staticClass:\"item-wrapper\"},_vm._l((_vm.ranklist),function(item){return _c('li',{key:item.id,staticClass:\"rank-item\",on:{\"click\":function($event){return _vm.selectItem(item.id)}}},[_c('div',{staticClass:\"img-wrapper\"},[_c('img',{staticClass:\"img\",attrs:{\"src\":_vm._getSmallImage(item.coverImgUrl)}})]),_c('ul',{staticClass:\"songlist-wrapper\"},_vm._l((item.tracks),function(songItem,index){return _c('li',{key:index,staticClass:\"songlist\"},[_c('span',[_vm._v(_vm._s(index + 1 + '.'))]),_c('span',[_vm._v(_vm._s(songItem.name + ' - ' + _vm.formatSingName(songItem.ar)))])])}),0)])}),0)],1),_c('transition',{attrs:{\"name\":\"slide\"}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios'\r\nimport { domain } from './config'\r\n\r\nfunction getRank(id) {\r\n  return function() {\r\n    return axios.get(`${domain}/top/list?idx=${id}`).then(res => {\r\n      return res.data.playlist\r\n    })\r\n  }\r\n}\r\n\r\nconst rank = {\r\n  getHot: getRank(1),\r\n  getOriginal: getRank(2),\r\n  getNewsong: getRank(0),\r\n  getSoaring: getRank(3),\r\n  getMusic: getRank(22),\r\n  getTalksing: getRank(23),\r\n  getElectric: getRank(4)\r\n}\r\n\r\nexport default rank\r\n","<template>\r\n  <div class=\"rank\" ref=\"rank\">\r\n    <Scroll :data=\"ranklist\">\r\n      <Loading v-show=\"reqCount <= 6\"></Loading>\r\n      <ul class=\"item-wrapper\">\r\n        <li :key=\"item.id\" v-for=\"item of ranklist\" class=\"rank-item\" @click=\"selectItem(item.id)\">\r\n          <div class=\"img-wrapper\">\r\n            <img class=\"img\" :src=\"_getSmallImage(item.coverImgUrl)\" />\r\n          </div>\r\n          <ul class=\"songlist-wrapper\">\r\n            <li class=\"songlist\" :key=\"index\" v-for=\"(songItem, index) of item.tracks\">\r\n              <span>{{ index + 1 + '.'}}</span>\r\n              <span>{{ songItem.name + ' - ' + formatSingName(songItem.ar) }}</span>\r\n            </li>\r\n          </ul>\r\n        </li>\r\n      </ul>\r\n    </Scroll>\r\n\r\n    <transition name=\"slide\">\r\n      <router-view></router-view>\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\nimport rank from 'api/rank'\r\nimport Mixin from 'base/js/mixin'\r\nimport Scroll from 'components/scroll/Scroll'\r\nimport Loading from 'components/loading/Loading'\r\n\r\nexport default {\r\n  mixins: [Mixin],\r\n  data() {\r\n    return {\r\n      reqCount: 0,\r\n      ranklist: []\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'playlist'\r\n    ])\r\n  },\r\n  methods: {\r\n    request(req) {\r\n      req().then(res => {\r\n        this.ranklist.push({\r\n          id: res.id,\r\n          coverImgUrl: res.coverImgUrl,\r\n          tracks: res.tracks.splice(0, 3)\r\n        })\r\n        this.reqCount += 1\r\n      })\r\n    },\r\n    formatSingName(arr) {\r\n      let singer = ''\r\n      arr.forEach((item, index) => {\r\n        index === arr.length - 1 ? singer += item.name : singer += item.name + ' / '\r\n      })\r\n      return singer\r\n    },\r\n    selectItem(id) {\r\n      this.$router.push(`/rank/${id}`)\r\n    },\r\n    _getData() {\r\n      this.request(rank.getHot)\r\n      this.request(rank.getOriginal)\r\n      this.request(rank.getNewsong)\r\n      this.request(rank.getSoaring)\r\n      this.request(rank.getMusic)\r\n      this.request(rank.getTalksing)\r\n      this.request(rank.getElectric)\r\n    },\r\n    _getSmallImage(url) {\r\n      return url + '?param=140y140&type=webp'\r\n    }\r\n  },\r\n  watch: {\r\n    playlist(list) {\r\n      this._resetScroll(list, this.$refs.rank)\r\n    }\r\n  },\r\n  components: {\r\n    Scroll,\r\n    Loading\r\n  },\r\n  created() {\r\n    this._getData()\r\n  },\r\n  mounted() {\r\n    this._resetScroll(this.playlist, this.$refs.rank)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @import 'base/styles/variable.scss';\r\n\r\n  .rank {\r\n    position: fixed;\r\n    top: 88px;\r\n    bottom: 0;\r\n    width: 100%;\r\n\r\n    .loading {\r\n      padding-top: 20px;\r\n    }\r\n\r\n    .item-wrapper {\r\n      padding-bottom: 20px;\r\n    }\r\n\r\n    .rank-item {\r\n      display: flex;\r\n      flex-direction: row;\r\n      height: 100px;\r\n      padding-top: 20px;\r\n      margin: 0 20px;\r\n\r\n      .img-wrapper {\r\n        width: 100px;\r\n\r\n        .img {\r\n          width: 100%;\r\n          height: 100%;\r\n        }\r\n      }\r\n\r\n      .songlist-wrapper {\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        flex: 1;\r\n        height: 100px;\r\n        padding: 0 20px;\r\n        background-color: #333;\r\n        overflow: hidden;\r\n\r\n        .songlist {\r\n          line-height: 26px;\r\n          font-size: 12px;\r\n          color: hsla(0,0%,100%,.3);\r\n          @extend .text-overflow\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .slide-enter, .slide-leave-to {\r\n    opacity: 0;\r\n    transform: translate3d(50%, 0, 0)\r\n  }\r\n  .slide-enter-active, .slide-leave-active {\r\n    transition: all .4s;\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rank.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rank.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Rank.vue?vue&type=template&id=44a5e312&scoped=true&\"\nimport script from \"./Rank.vue?vue&type=script&lang=js&\"\nexport * from \"./Rank.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Rank.vue?vue&type=style&index=0&id=44a5e312&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44a5e312\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rank.vue?vue&type=style&index=0&id=44a5e312&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rank.vue?vue&type=style&index=0&id=44a5e312&lang=scss&scoped=true&\""],"sourceRoot":""}