(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f97afcfc"],{1654:function(t,n,e){"use strict";var r=e("71c1")(!0);e("30f1")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,e=this._i;return e>=n.length?{value:void 0,done:!0}:(t=r(n,e),this._i+=t.length,{value:t,done:!1})})},"1af6":function(t,n,e){var r=e("63b6");r(r.S,"Array",{isArray:e("9003")})},"20fd":function(t,n,e){"use strict";var r=e("d9f6"),i=e("aebd");t.exports=function(t,n,e){n in t?r.f(t,n,i(0,e)):t[n]=e}},2269:function(t,n,e){"use strict";var r=e("3d43"),i=e.n(r);i.a},"30f1":function(t,n,e){"use strict";var r=e("b8e3"),i=e("63b6"),a=e("9138"),o=e("35e8"),s=e("481b"),c=e("8f60"),u=e("45f2"),l=e("53e2"),f=e("5168")("iterator"),d=!([].keys&&"next"in[].keys()),h="@@iterator",p="keys",v="values",g=function(){return this};t.exports=function(t,n,e,m,y,b,S){c(e,n,m);var _,C,x,w=function(t){if(!d&&t in k)return k[t];switch(t){case p:return function(){return new e(this,t)};case v:return function(){return new e(this,t)}}return function(){return new e(this,t)}},L=n+" Iterator",A=y==v,O=!1,k=t.prototype,I=k[f]||k[h]||y&&k[y],T=I||w(y),j=y?A?w("entries"):T:void 0,P="Array"==n&&k.entries||I;if(P&&(x=l(P.call(new t)),x!==Object.prototype&&x.next&&(u(x,L,!0),r||"function"==typeof x[f]||o(x,f,g))),A&&I&&I.name!==v&&(O=!0,T=function(){return I.call(this)}),r&&!S||!d&&!O&&k[f]||o(k,f,T),s[n]=T,s[L]=g,y)if(_={values:A?T:w(v),keys:b?T:w(p),entries:j},S)for(C in _)C in k||a(k,C,_[C]);else i(i.P+i.F*(d||O),n,_);return _}},3702:function(t,n,e){var r=e("481b"),i=e("5168")("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[i]===t)}},"3d43":function(t,n,e){},"40c3":function(t,n,e){var r=e("6b4c"),i=e("5168")("toStringTag"),a="Arguments"==r(function(){return arguments}()),o=function(t,n){try{return t[n]}catch(e){}};t.exports=function(t){var n,e,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=o(n=Object(t),i))?e:a?r(n):"Object"==(s=r(n))&&"function"==typeof n.callee?"Arguments":s}},"440c":function(t,n,e){"use strict";var r=e("47fe"),i=e.n(r);i.a},"47fe":function(t,n,e){},4802:function(t,n,e){"use strict";e.r(n);var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"recommend"},[e("div",{ref:"scrollContainer",staticClass:"scroll-container"},[e("Scroll",{attrs:{data:t.hotSong}},[e("div",{ref:"sliderContainer",staticClass:"slider-container"},[e("Slider",{attrs:{data:t.banners}},t._l(t.banners,function(t,n){return e("div",{key:n,staticClass:"slider-item"},[e("img",{staticClass:"item-img",attrs:{src:t.imageUrl}})])}),0)],1),e("div",{staticClass:"hot-playlist"},[e("h2",{staticClass:"title"},[t._v("热门歌单推荐")]),e("ul",{staticClass:"list-wrapper"},t._l(t.hotMenu,function(n){return e("li",{key:n.id,staticClass:"item",on:{click:function(e){return t.selectPlaylistItem(n)}}},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t._getSmallImage(n.picUrl),expression:"_getSmallImage(item.picUrl)"}],staticClass:"item-img"}),e("h3",{staticClass:"item-title"},[t._v(t._s(n.name))]),e("span",{staticClass:"play-count"},[t._v("\n              "+t._s(t.playCount(n.playCount))+"\n            ")])])}),0),e("Loading",{directives:[{name:"show",rawName:"v-show",value:!t.hotMenu.length,expression:"!hotMenu.length"}]})],1),e("div",{staticClass:"hot-song"},[e("h2",{staticClass:"title"},[t._v("热门歌曲推荐")]),e("ul",{staticClass:"list-wrapper"},t._l(t.hotSong,function(n,r){return e("li",{key:n.id,staticClass:"item",on:{click:function(n){return t.selectSongItem(r)}}},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t._getSmallImage(n.song.album.picUrl),expression:"_getSmallImage(item.song.album.picUrl)"}],staticClass:"item-img"}),e("span",{staticClass:"song-name"},[t._v(t._s(n.name))]),e("span",{staticClass:"singer"},[t._v(t._s(n.song.artists[0].name))])])}),0),e("Loading",{directives:[{name:"show",rawName:"v-show",value:!t.hotSong.length,expression:"!hotSong.length"}]})],1)])],1),e("transition",{attrs:{name:"slide"}},[e("router-view")],1)],1)},i=[],a=(e("5df3"),e("ac6a"),e("cebc")),o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{ref:"sliderWrapper",staticClass:"slider-wrapper"},[e("div",{ref:"sliderContent",staticClass:"slider-content"},[t._t("default")],2),e("div",{staticClass:"dots"},t._l(t.dots,function(n,r){return e("div",{key:r,staticClass:"dot",class:{active:t.currentIndex===r}})}),0)])},s=[],c=e("75fc"),u=(e("c5f6"),e("1fba")),l={data:function(){return{dots:[],currentIndex:0}},props:{data:{type:Array,default:function(){return[]}},autoPlay:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},interval:{type:Number,default:4e3}},methods:{_initSlider:function(){var t=this;this.slider=new u["a"](this.$refs.sliderWrapper,{scrollX:!0,scrollY:!1,momentum:!1,snap:{loop:this.loop}}),this.autoPlay&&(this._play(),this.slider.on("scrollEnd",function(){t.currentIndex=t.slider.getCurrentPage().pageX,t._play()})),this.slider.on("beforeScrollStart",function(){clearTimeout(t.timer)}),window.addEventListener("resize",function(){t._initSliderWidth()})},_initSliderWidth:function(){var t=this.$refs.sliderContent,n=Object(c["a"])(t.children),e=document.body.clientWidth,r=0;n.map(function(t,n){t.style.width=e+"px",r+=e}),t.style.width=r+"px"},_initDot:function(){var t=Object(c["a"])(this.$refs.sliderContent.children);this.dots=t.filter(function(n,e){return 0!==e&&e!==t.length-1})},_play:function(){var t=this;clearTimeout(this.timer),this.timer=setTimeout(function(){t.slider&&t.slider.next()},this.interval)}},watch:{data:function(){var t=this;setTimeout(function(){t._initSlider(),t._initSliderWidth(),t._initDot()},20)}},activated:function(){this._play()},deactivated:function(){clearTimeout(this.timer)}},f=l,d=(e("2269"),e("2877")),h=Object(d["a"])(f,o,s,!1,null,"186115c3",null),p=h.exports,v=e("b3df"),g=e("c154"),m=e("a381"),y=e("2f62"),b=e("bc3a"),S=e.n(b),_=e("da71");function C(){return S.a.get(_["a"]+"/banner").then(function(t){return t.data})}function x(){return S.a.get(_["a"]+"/personalized").then(function(t){return t.data.result})}function w(){return S.a.get(_["a"]+"/personalized/newsong").then(function(t){return t.data.result})}var L=e("1a55"),A={mixins:[L["a"]],data:function(){return{banners:[],hotMenu:[],hotSong:[]}},methods:Object(a["a"])({},Object(y["b"])(["setFullScreen","setPlaylist","setCurrentIndex","setCurrentSong","setSequenceList"]),{playCount:function(t){return parseInt(t/1e3)+"万"},selectPlaylistItem:function(t){this.$router.push("/recommend/".concat(t.id))},selectSongItem:function(t){var n=this,e="";this.hotSong.forEach(function(t,r){r===n.hotSong.length-1?e+=t.id:e+=t.id+","}),this.setFullScreen(!0),m["a"].getDetail(e).then(function(t){if(t){var n=[];return t.forEach(function(t){n.push(Object(m["b"])(t))}),n}}).then(function(e){n.setPlaylist(e),n.setSequenceList(e),n.setCurrentIndex(t),n.setCurrentSong(e[t])})},_getData:function(){var t=this,n=[C(),x(),w()];Promise.all(n).then(function(n){t.banners=n[0].banners.splice(0,5),t.hotMenu=n[1],t.hotSong=n[2].splice(0,9)})},_getSmallImage:function(t){return t+"?param=140y140&type=webp"}}),computed:Object(a["a"])({},Object(y["c"])(["playlist"])),components:{Slider:p,Scroll:v["a"],Loading:g["a"]},watch:{playlist:function(t){this._resetScroll(t,this.$refs.scrollContainer)}},created:function(){this._getData()},mounted:function(){this._resetScroll(this.playlist,this.$refs.scrollContainer)}},O=A,k=(e("440c"),Object(d["a"])(O,r,i,!1,null,"9b745620",null));n["default"]=k.exports},"481b":function(t,n){t.exports={}},"4ee1":function(t,n,e){var r=e("5168")("iterator"),i=!1;try{var a=[7][r]();a["return"]=function(){i=!0},Array.from(a,function(){throw 2})}catch(o){}t.exports=function(t,n){if(!n&&!i)return!1;var e=!1;try{var a=[7],s=a[r]();s.next=function(){return{done:e=!0}},a[r]=function(){return s},t(a)}catch(o){}return e}},"50ed":function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},"53e2":function(t,n,e){var r=e("07e3"),i=e("241e"),a=e("5559")("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},"549b":function(t,n,e){"use strict";var r=e("d864"),i=e("63b6"),a=e("241e"),o=e("b0dc"),s=e("3702"),c=e("b447"),u=e("20fd"),l=e("7cd6");i(i.S+i.F*!e("4ee1")(function(t){Array.from(t)}),"Array",{from:function(t){var n,e,i,f,d=a(t),h="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v,m=0,y=l(d);if(g&&(v=r(v,p>2?arguments[2]:void 0,2)),void 0==y||h==Array&&s(y))for(n=c(d.length),e=new h(n);n>m;m++)u(e,m,g?v(d[m],m):d[m]);else for(f=y.call(d),e=new h;!(i=f.next()).done;m++)u(e,m,g?o(f,v,[i.value,m],!0):i.value);return e.length=m,e}})},"54a1":function(t,n,e){e("6c1c"),e("1654"),t.exports=e("95d5")},"5df3":function(t,n,e){"use strict";var r=e("02f4")(!0);e("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,e=this._i;return e>=n.length?{value:void 0,done:!0}:(t=r(n,e),this._i+=t.length,{value:t,done:!1})})},"6c1c":function(t,n,e){e("c367");for(var r=e("e53d"),i=e("35e8"),a=e("481b"),o=e("5168")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var u=s[c],l=r[u],f=l&&l.prototype;f&&!f[o]&&i(f,o,u),a[u]=a.Array}},"71c1":function(t,n,e){var r=e("3a38"),i=e("25eb");t.exports=function(t){return function(n,e){var a,o,s=String(i(n)),c=r(e),u=s.length;return c<0||c>=u?t?"":void 0:(a=s.charCodeAt(c),a<55296||a>56319||c+1===u||(o=s.charCodeAt(c+1))<56320||o>57343?t?s.charAt(c):a:t?s.slice(c,c+2):o-56320+(a-55296<<10)+65536)}}},"75fc":function(t,n,e){"use strict";var r=e("a745"),i=e.n(r);function a(t){if(i()(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}var o=e("774e"),s=e.n(o),c=e("c8bb"),u=e.n(c);function l(t){if(u()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return s()(t)}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d(t){return a(t)||l(t)||f()}e.d(n,"a",function(){return d})},"774e":function(t,n,e){t.exports=e("d2d5")},"7cd6":function(t,n,e){var r=e("40c3"),i=e("5168")("iterator"),a=e("481b");t.exports=e("584a").getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||a[r(t)]}},8436:function(t,n){t.exports=function(){}},"8f60":function(t,n,e){"use strict";var r=e("a159"),i=e("aebd"),a=e("45f2"),o={};e("35e8")(o,e("5168")("iterator"),function(){return this}),t.exports=function(t,n,e){t.prototype=r(o,{next:i(1,e)}),a(t,n+" Iterator")}},"95d5":function(t,n,e){var r=e("40c3"),i=e("5168")("iterator"),a=e("481b");t.exports=e("584a").isIterable=function(t){var n=Object(t);return void 0!==n[i]||"@@iterator"in n||a.hasOwnProperty(r(n))}},a381:function(t,n,e){"use strict";e.d(n,"a",function(){return l}),e.d(n,"b",function(){return h});e("6b54"),e("ac6a"),e("7f7f");var r=e("d225"),i=e("b0b4"),a=e("da71"),o=e("351b"),s=e("bc3a"),c=e.n(s),u=new o["a"]("like"),l=function(){function t(n){var e=n.id,i=n.name,a=n.singer,o=n.image,s=n.duration,c=n.like;Object(r["a"])(this,t),this.id=e,this.name=i,this.singer=a,this.image=o,this.duration=s,this.like=c}return Object(i["a"])(t,[{key:"getUrl",value:function(){return c.a.get("".concat(a["a"],"/song/url?id=").concat(this.id)).then(function(t){var n=t.data.data[0].url;return n})}},{key:"getLyric",value:function(){return c.a.get("".concat(a["a"],"/lyric?id=").concat(this.id)).then(function(t){if(t.data.nolyric)return"";var n=t.data.lrc.lyric;return n})}}]),t}();function f(t){var n="";return t.forEach(function(e,r){r===t.length-1?n+=e.name:n+=e.name+" / "}),n}function d(t){for(var n=u.get(),e=0;e<n.length;e++)if(n[e]===t.toString())return!0;return!1}function h(t){return new l({id:t.id,name:t.name,singer:f(t.ar),image:t.al.picUrl,duration:t.dt/1e3,like:d(t.id)})}l.getDetail=function(t){return c.a.get("".concat(a["a"],"/song/detail?ids=").concat(t)).then(function(t){return t.data.songs})}},a745:function(t,n,e){t.exports=e("f410")},b0dc:function(t,n,e){var r=e("e4ae");t.exports=function(t,n,e,i){try{return i?n(r(e)[0],e[1]):n(e)}catch(o){var a=t["return"];throw void 0!==a&&r(a.call(t)),o}}},c367:function(t,n,e){"use strict";var r=e("8436"),i=e("50ed"),a=e("481b"),o=e("36c3");t.exports=e("30f1")(Array,"Array",function(t,n){this._t=o(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,i(1)):i(0,"keys"==n?e:"values"==n?t[e]:[e,t[e]])},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},c8bb:function(t,n,e){t.exports=e("54a1")},d2d5:function(t,n,e){e("1654"),e("549b"),t.exports=e("584a").Array.from},f410:function(t,n,e){e("1af6"),t.exports=e("584a").Array.isArray}}]);
//# sourceMappingURL=chunk-f97afcfc.f5994e31.js.map